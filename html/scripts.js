var OnkoT,OnkoA,OnkoB,kysymys=0,oikeat=0,TeoriaMaksettu=!1,OnkoC=!1;function Teoria(){Piilota(),$("#theo").show(),document.getElementById("ListT").classList.add("On")}function Akortti(){Piilota(),$("#akortti").show(),document.getElementById("ListA").classList.add("On")}function Bkortti(){Piilota(),$("#bkortti").show(),document.getElementById("ListB").classList.add("On")}function Ckortti(){Piilota(),$("#ckortti").show(),document.getElementById("ListC").classList.add("On")}function CloseMainDiv(){$.post("https://Tapsu_autokoulu/Sulje")}function Aktiivinen(t){t?($(".Body").show(),Suoritetut(),Teoria()):$(".Body").hide()}function Suoritetut(){OnkoT?($("#AloitaT").hide(),$("#SuoritettuT").show(),$(".KeskenT").hide(),OnkoA?($("#AloitaA").hide(),$("#SuoritettuA").show(),$("#KeskenA").hide()):($("#AloitaA").show(),$("#SuoritettuA").hide(),$("#KeskenA").show()),OnkoB?($("#AloitaB").hide(),$("#SuoritettuB").show(),$("#KeskenB").hide()):($("#AloitaB").show(),$("#SuoritettuB").hide(),$("#KeskenB").show()),OnkoC?($("#AloitaC").hide(),$("#SuoritettuC").show(),$("#KeskenC").hide()):($("#AloitaC").show(),$("#SuoritettuC").hide(),$("#KeskenC").show())):($("#AloitaT").show(),$("#SuoritettuT").hide(),$(".KeskenT").show(),$("#AloitaA").hide(),$("#AloitaB").hide(),$("#AloitaC").hide(),$("#SuoritettuA").hide(),$("#SuoritettuB").hide(),$("#SuoritettuC").hide(),$("#KeskenA").hide(),$("#KeskenB").hide(),$("#KeskenC").hide())}function Piilota(){$("#theo").hide(),$("#akortti").hide(),$("#bkortti").hide(),$("#ckortti").hide(),$("#HylkyDiv").hide(),$("#SuoritettuDiv").hide(),$("#KysymysDiv").hide(),document.getElementById("ListT").classList.remove("On"),document.getElementById("ListA").classList.remove("On"),document.getElementById("ListB").classList.remove("On"),document.getElementById("ListC").classList.remove("On")}function KysymyksetT(){$.post("https://Tapsu_autokoulu/TeoriaMaksu",function(t){!0==t?(TeoriaMaksettu=!0,kysymys=0,oikeat=0,Piilota(),$("#KysymysDiv").show(),$("#ListT").prop("onclick",null).off("click"),$("#ListA").prop("onclick",null).off("click"),$("#ListB").prop("onclick",null).off("click"),$("#ListC").prop("onclick",null).off("click"),$("#ListClose").prop("onclick",null).off("click"),KysymyksetAlotus()):CloseMainDiv()})}function KysymyksetAlotus(){$("#QuestionTXT").html(teoriakysymykset[kysymys].otsikko),$("#a1l").html(teoriakysymykset[kysymys].vastausA),$("#a2l").html(teoriakysymykset[kysymys].vastausB),$("#a3l").html(teoriakysymykset[kysymys].vastausC),$("#a4l").html(teoriakysymykset[kysymys].vastausD)}function Kysymykset(){$("input[name='quest'][value='"+teoriakysymykset[kysymys].oikea+"']").prop("checked")&&oikeat++,++kysymys>=teoriakysymykset.length?($("#KysymysDiv").hide(),$("#ListT").click(Teoria),$("#ListA").click(Akortti),$("#ListB").click(Bkortti),$("#ListC").click(Ckortti),$("#ListClose").click(CloseMainDiv),oikeat>=Minimissaan?(OnkoT=!0,Suoritetut(),$.post("https://Tapsu_autokoulu/Teoriakunnossa"),$("#SuoritettuDiv").show(),TeoriaMaksettu=!1):$("#HylkyDiv").show(),TeoriaMaksettu=!1):KysymyksetAlotus(),$("#a1").prop("checked",!1),$("#a2").prop("checked",!1),$("#a3").prop("checked",!1),$("#a4").prop("checked",!1)}function Ajokoe(t){$.post("https://Tapsu_autokoulu/Ajokoe",JSON.stringify({type:t})),$.post("https://Tapsu_autokoulu/Sulje")}window.addEventListener("message",function(t){var i=t.data;i.UI?(OnkoT=!!i.T,OnkoA=!!i.A,OnkoB=!!i.B,OnkoC=!!i.C,Aktiivinen(!0)):Aktiivinen(!1)}),$(function(){$("#KeskenT").hide(),$("#SuoritettuT").hide(),$("#akortti").hide(),$("#bkortti").hide(),$("#ckortti").hide(),$("#HylkyDiv").hide(),$("#SuoritettuDiv").hide(),$("#KysymysDiv").hide(),Aktiivinen(!1)}),document.onkeydown=function(t){"Escape"==t.key&&!1==TeoriaMaksettu&&$.post("https://Tapsu_autokoulu/Sulje")};